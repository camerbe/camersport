<div class="flex">
  <span class="mr-2 text-indigo-800 text-xl"><i class="fa-solid fa-table-list"></i></span> <app-title [title]="title"/>
</div>

<div class="bg-white rounded-lg shadow-md p-6 mt-6">
  <app-button-link [link]="link" [label]="label"/>
  @if(articles.length>0){
  <p-toolbar styleClass="mb-8">
    <ng-template #start>

    </ng-template>
  </p-toolbar>
  <p-table class="text-gray-500 border-b border-gray-200 ng-star-inserted"
  #dt
  [value]="articles"
  [rows]="10"

  [responsive]="true"
  [paginator]="true"


  [rowHover]="true"
  dataKey="id"
  currentPageReportTemplate="Affichage des entrées {first} à {last} sur {totalRecords}"
  [showCurrentPageReport]="true"
  >
    <ng-template pTemplate="header">
        <tr class="text-indigo-600 m-2.5 uppercase">

          <th class="py-3 px-4">Catégorie</th>
            <th class="py-3 px-4">Titre</th>
            <th class="py-3 px-4">Date</th>
            <th class="py-3 px-4">Actions</th>
        </tr>
    </ng-template>
    <ng-template pTemplate="body" let-article>
        <tr class="ng-star-inserted">

            <td>{{ article.categorie.categorie }}</td>
            <td>{{ article.titre }}</td>
            <td>{{ article.date_parution }}</td>
            <td>
                <a [routerLink]="['/dashboard/article/show',article.id]" class="text-blue-500 hover:text-blue-700" >
                    <i class="pi pi-pencil"></i>
                </a>
                <a class="text-red-500 hover:text-red-700 ml-2" (click)="onDelete(article.id)">
                    <i class="pi pi-trash"></i>
                </a>
            </td>
        </tr>

    </ng-template>
  </p-table>

}
@else {
  <p class="border-b border-indigo-100">Pas d'article</p>
}

</div>
